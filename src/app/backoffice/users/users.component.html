<div class="container" style="margin-top:10px;">
    <h3>User list</h3>
    <div class="adduser">
        <button class="pull-right" [routerLink]="['/backoffice/add-user']">Add User</button>
    </div>
    <md-tab-group>
        <md-tab label="Active users">
            <h3>Active users</h3>
            <ngx-datatable #activetable class="material" [columnMode]="'standard'" [rows]="usersList" (onRowsUpdate)='updateRows()'>
                <ngx-datatable-column [flexGrow]="3" name="Email" prop="email"> </ngx-datatable-column>
                <ngx-datatable-column name="First Name" prop="firstName"> </ngx-datatable-column>
                <ngx-datatable-column name="Last Name" prop="lastName"> </ngx-datatable-column>
                <ngx-datatable-column name="Club" [width]="80" prop="club"> </ngx-datatable-column>
                <ngx-datatable-column name="Club Function" prop="clubFunction"> </ngx-datatable-column>
                <ngx-datatable-column name="Phone Number" prop="phone"> </ngx-datatable-column>
                <ngx-datatable-column name="Role" [width]="90">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <span *ngIf="row.role==1">Superadmin</span>
                        <span *ngIf="row.role==2">Club Admin</span>
                        <span *ngIf="row.role==3">Coach</span>
                        <span *ngIf="row.role==4">Player</span>
                        <span *ngIf="row.role==5">Viewer</span>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Action">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <i class="fa fa-ban deactive" aria-hidden="true" (click)="deactivateUser(row._id)"></i>
                        <i class="fa fa-pencil edit" aria-hidden="true" [routerLink]="['/backoffice/edit-user', row._id]"></i>
                        <i class="fa fa-trash delete" aria-hidden="true" (click)="deleteUser(row._id)"></i>
                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </md-tab>
        <md-tab label="Deactive Users">
            <h3>Deactive Users</h3>
            <ngx-datatable #deactivetable class="material" [columnMode]="'standard'" [rows]="unApprovedUsers">
                <ngx-datatable-column [flexGrow]="3" name="Email" prop="email"> </ngx-datatable-column>
                <ngx-datatable-column name="First Name" prop="firstName"> </ngx-datatable-column>
                <ngx-datatable-column name="Last Name" prop="lastName"> </ngx-datatable-column>
                <ngx-datatable-column name="Club" [width]="80" prop="club"> </ngx-datatable-column>
                <ngx-datatable-column name="Club Function" prop="clubFunction"> </ngx-datatable-column>
                <ngx-datatable-column name="Phone Number" prop="phone"> </ngx-datatable-column>
                <ngx-datatable-column name="Role" [width]="90">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <span *ngIf="row.role==1">Superadmin</span>
                        <span *ngIf="row.role==2">Coach Admin</span>
                        <span *ngIf="row.role==3">Club Admin</span>
                        <span *ngIf="row.role==4">Player</span>
                        <span *ngIf="row.role==5">Viewer</span>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Action">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <i class="fa fa-check-square active" aria-hidden="true" (click)="activateUser(row._id)"></i>
                        <i class="fa fa-pencil edit" aria-hidden="true" [routerLink]="['/backoffice/edit-user', row._id]"></i>
                        <i class="fa fa-trash delete" aria-hidden="true" (click)="deleteUser(row._id)"></i>
                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </md-tab>
    </md-tab-group>
</div>

<modal #userSucessModal>
    <modal-header>

    </modal-header>
    <modal-content>
        <p>
            <i class="fa fa-check" aria-hidden="true"></i>
        </p>
        <p>
            {{successmsg}}
        </p>
    </modal-content>
    <modal-footer>
        <button class="btn btn-primary" (click)="userSucessModal.close()">Ok</button>
    </modal-footer>
</modal>
<modal #userErrorModal class="error-modal">
    <modal-header>

    </modal-header>
    <modal-content>
        <p>
            <i class="fa fa-close" aria-hidden="true"></i>
        </p>
        <p>
            {{errormsg}}
        </p>
    </modal-content>
    <modal-footer>
        <button class="btn btn-primary" (click)="userErrorModal.close()">Ok</button>
    </modal-footer>
</modal>
<div class="container" style="margin-top:20px;">
    <div class="row center-elements">
        <div class="col-md-6 col-md-offset-3 padding-rm sign-in-form">
            <h3>Update User</h3>
            <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate [ngClass]="{'submited' : f._submitted}">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" [(ngModel)]="user.email" #email="ngModel" class="form-control" placeholder="Email" required
                        email>
                    <span class="help-block" *ngIf="!email.valid && f._submitted">Please enter a valid email</span>
                </div>
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" name="firstName" [(ngModel)]="user.firstName" #firstName="ngModel" class="form-control" placeholder="First Name"
                        required>
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" name="lastName" [(ngModel)]="user.lastName" #lastName="ngModel" class="form-control" placeholder="Last Name"
                        required>
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="text" name="phone" [(ngModel)]="user.phone" #phone="ngModel" class="form-control" placeholder="Phone" pattern="[0-9]*"
                        maxlength="15" required>
                    <span class="help-block" [hidden]="!phone.hasError('maxlength')">Phone number should be maximum 15 digit</span>
                    <span class="help-block" [hidden]="!phone.hasError('pattern')">Phone number should be only digits</span>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select name="role" #role class="form-control" [(ngModel)]="user.coach" required>
                    <option *ngFor="let role of roles" [value]="role.value">  
                    {{role.display}}
                    </option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Club</label>
                    <ng2-completer #club="ngModel" [(ngModel)]="user.club" name="club" [inputClass]="['autocompleteInput']" class="autocompleteControl"
                        placeholder="Club" [datasource]="clubData" [minSearchLength]="3" required></ng2-completer>
                </div>
                <div class="form-group">
                    <label>Club Function</label>
                    <input type="text" name="clubFunction" [(ngModel)]="user.clubFunction" #clubFunction="ngModel" class="form-control" placeholder="Club Function"
                        required>
                </div>
                <div class="form-group">
                    <button class="btn btn-round btn-green btn-signup" [disabled]="!f.form.valid && f._submitted " type="submit ">Update</button>
                    <button class="btn btn-round btn-green btn-signup" (click)="editSuccessPopupClose() ">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <modal #editUserSuccessModel>
        <modal-header>
        </modal-header>
        <modal-content>
            <p>
                <i class="fa fa-check" aria-hidden="true"></i>
            </p>
            <p>
                {{successmsg}}
            </p>
        </modal-content>
        <modal-footer>
            <button class="btn btn-primary" (click)="editSuccessPopupClose()">Ok</button>
        </modal-footer>
    </modal>
    <modal #editUserErrorModal class="error-modal">
        <modal-header>
        </modal-header>
        <modal-content>
            <p>
                <i class="fa fa-close" aria-hidden="true"></i>
            </p>
            <p>
                {{errormsg}}
            </p>
        </modal-content>
        <modal-footer>
            <button class="btn btn-primary" (click)="editUserErrorModal.close()">Ok</button>
        </modal-footer>
    </modal>
</div>